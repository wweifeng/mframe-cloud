#base config

# druid config数据库配置
spring:
  datasource:
     driver-class-name: "com.mysql.jdbc.Driver"
     type: "com.alibaba.druid.pool.DruidDataSource"
     druid:
        initial-size: 10
        min-idle: 10
        max-active: 50
        max-wait: 60000
        time-between-eviction-runs-millis: 60000
        min-evictable-idle-time-millis: 300000
        validation-query: SELECT 'x'
        test-while-idle: true
        test-on-borrow: false
        test-on-return: false
        pool-prepared-statements: true
        max-pool-prepared-statement-per-connection-size: 20
        filters: wall,stat,log4j
        connection-properties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000
        useGlobalDataSourceStat: true

# mybatis 
#mybatis:
#  mapper-locations: classpath:mapper/**/*.xml
#  type-aliases-package: com.mframe.cloud.**.domain

#mybaits-plus配置，修改主键类型，mapper.xml、type 别名等
mybatis-plus:
  mapper-locations: classpath:mapper/**/*.xml
  typeAliasesPackage: com.mframe.cloud.**.domain
  global-config:
      db-config:
        #主键类型  0:"数据库ID自增", 1:"用户输入ID",2:"全局唯一ID (数字类型唯一ID)", 3:"全局唯一ID UUID";
        id-type: 0
        #字段策略 0:"忽略判断",1:"非 NULL 判断"),2:"非空判断"
        field-strategy: 1
        #驼峰下划线转换
        table-underline: true
        #刷新mapper 调试神器
        #table-prefix: t_
        #数据库大写下划线转换
        #capital-mode: true
  configuration:
    map-underscore-to-camel-case: true
    cache-enabled: true

# ShradJedis 
mframe:
  redis:
    pool:
      max-active: 8
      max-idle: 8
      min-idle: 0
      max-wait: -1
    shards:
    - host: 127.0.0.1
      port: 6379
      
# 注册到eureka server
eureka:
  client:
    service-url:
      defaultZone: http://test:test@192.168.99.100:8088/eureka/,http://test:test@192.168.99.100:8188/eureka/
  instance:
    prefer-ip-address: true #注册IP
